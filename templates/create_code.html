{% extends "base_template.html" %}
{% block title %}Create Code - HoofPrint{% endblock %}

{% block content %}
<div>
    <h2>Create New Code</h2>

    {% if let Some(error_string) = error %}
    <div class="error">
        <strong>Error:</strong> {{ error_string }}
    </div>
    {% endif %}

    <form method="post" action="/create">
        <div>
            <label for="code_type" class="form_label">Code Type:</label>
            <select id="code_type" name="code_type" required class="form_select">
                <option value>-- Select Type --</option>
                <option value="barcode">Barcode</option>
                <option value="qrcode">QR Code</option>
            </select>
        </div>

        <div>
            <label for="code_value" class="form_label">Code Value:</label>
            <input type="text" id="code_value" name="code_value" required maxlength="255"
                class="form_input" placeholder="Enter code value (max 255 characters)">
            <small class="form_sublabel">The barcode/QR code value to encode</small>
        </div>

        <div>
            <label for="code_name" class="form_label">Name (Optional):</label>
            <input type="text" id="code_name" name="code_name" maxlength="255"
                class="form_input" placeholder="Give this code a friendly name">
            <small class="form_sublabel">An optional name to help identify this code</small>
        </div>

        <div>
            <label for="site_id" class="form_label">Site:</label>
            <select id="site_id" name="site_id" required class="form_select">
                {% for site in sites %}
                <option value="{{ site.id }}">{{ site.name }}</option>
                {% endfor %}
            </select>
            <small class="form_sublabel">The site/shop this code is for</small>
        </div>

        <div>
            <button type="submit"
                class="btn btn-green">Create
                Code</button>
            <a href="/">
                <button type="button" class="btn btn-red">Cancel</button></a>
        </div>
    </form>
</div>
{% endblock content %}
